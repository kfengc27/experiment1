{"ast":null,"code":"import { extends as _extends, objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose } from '../_virtual/_rollupPluginBabelHelpers.js';\nimport { useRef, useContext, useMemo } from 'react';\nimport { bool, func } from 'prop-types';\nimport { jsx } from 'react/jsx-runtime';\nimport { withHovering } from '../utils/withHovering.js';\nimport { useItemState } from '../hooks/useItemState.js';\nimport { useCombinedRef } from '../hooks/useCombinedRef.js';\nimport { useBEM } from '../hooks/useBEM.js';\nimport { stylePropTypes } from '../utils/propTypes.js';\nimport { EventHandlersContext, menuClass, menuItemClass } from '../utils/constants.js';\nimport { safeCall, mergeProps, commonProps } from '../utils/utils.js';\nvar _excluded = [\"className\", \"disabled\", \"children\", \"isHovering\", \"itemRef\", \"externalRef\"],\n    _excluded2 = [\"setHover\", \"onPointerLeave\"];\nvar FocusableItem = /*#__PURE__*/withHovering('FocusableItem', function FocusableItem(_ref) {\n  var className = _ref.className,\n      disabled = _ref.disabled,\n      children = _ref.children,\n      isHovering = _ref.isHovering,\n      itemRef = _ref.itemRef,\n      externalRef = _ref.externalRef,\n      restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var isDisabled = !!disabled;\n  var ref = useRef(null);\n\n  var _useItemState = useItemState(itemRef, ref, isHovering, isDisabled),\n      setHover = _useItemState.setHover,\n      _onPointerLeave = _useItemState.onPointerLeave,\n      restStateProps = _objectWithoutPropertiesLoose(_useItemState, _excluded2);\n\n  var _useContext = useContext(EventHandlersContext),\n      handleClose = _useContext.handleClose;\n\n  var modifiers = useMemo(function () {\n    return {\n      disabled: isDisabled,\n      hover: isHovering,\n      focusable: true\n    };\n  }, [isDisabled, isHovering]);\n  var renderChildren = useMemo(function () {\n    return safeCall(children, _extends({}, modifiers, {\n      ref: ref,\n      closeMenu: handleClose\n    }));\n  }, [children, modifiers, handleClose]);\n  var mergedProps = mergeProps(_extends({}, restStateProps, {\n    onPointerLeave: function onPointerLeave(e) {\n      return _onPointerLeave(e, true);\n    },\n    onFocus: setHover\n  }), restProps);\n  return /*#__PURE__*/jsx(\"li\", _extends({\n    role: \"menuitem\"\n  }, mergedProps, commonProps(isDisabled), {\n    ref: useCombinedRef(externalRef, itemRef),\n    className: useBEM({\n      block: menuClass,\n      element: menuItemClass,\n      modifiers: modifiers,\n      className: className\n    }),\n    children: renderChildren\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? FocusableItem.propTypes = /*#__PURE__*/_extends({}, /*#__PURE__*/stylePropTypes(), {\n  disabled: bool,\n  children: func\n}) : void 0;\nexport { FocusableItem };","map":{"version":3,"names":["extends","_extends","objectWithoutPropertiesLoose","_objectWithoutPropertiesLoose","useRef","useContext","useMemo","bool","func","jsx","withHovering","useItemState","useCombinedRef","useBEM","stylePropTypes","EventHandlersContext","menuClass","menuItemClass","safeCall","mergeProps","commonProps","_excluded","_excluded2","FocusableItem","_ref","className","disabled","children","isHovering","itemRef","externalRef","restProps","isDisabled","ref","_useItemState","setHover","_onPointerLeave","onPointerLeave","restStateProps","_useContext","handleClose","modifiers","hover","focusable","renderChildren","closeMenu","mergedProps","e","onFocus","role","block","element","process","env","NODE_ENV","propTypes"],"sources":["/Users/chengbinfeng/Developer/experiment1/node_modules/@szhsin/react-menu/dist/es/components/FocusableItem.js"],"sourcesContent":["import { extends as _extends, objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose } from '../_virtual/_rollupPluginBabelHelpers.js';\nimport { useRef, useContext, useMemo } from 'react';\nimport { bool, func } from 'prop-types';\nimport { jsx } from 'react/jsx-runtime';\nimport { withHovering } from '../utils/withHovering.js';\nimport { useItemState } from '../hooks/useItemState.js';\nimport { useCombinedRef } from '../hooks/useCombinedRef.js';\nimport { useBEM } from '../hooks/useBEM.js';\nimport { stylePropTypes } from '../utils/propTypes.js';\nimport { EventHandlersContext, menuClass, menuItemClass } from '../utils/constants.js';\nimport { safeCall, mergeProps, commonProps } from '../utils/utils.js';\n\nvar _excluded = [\"className\", \"disabled\", \"children\", \"isHovering\", \"itemRef\", \"externalRef\"],\n    _excluded2 = [\"setHover\", \"onPointerLeave\"];\nvar FocusableItem = /*#__PURE__*/withHovering('FocusableItem', function FocusableItem(_ref) {\n  var className = _ref.className,\n      disabled = _ref.disabled,\n      children = _ref.children,\n      isHovering = _ref.isHovering,\n      itemRef = _ref.itemRef,\n      externalRef = _ref.externalRef,\n      restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var isDisabled = !!disabled;\n  var ref = useRef(null);\n\n  var _useItemState = useItemState(itemRef, ref, isHovering, isDisabled),\n      setHover = _useItemState.setHover,\n      _onPointerLeave = _useItemState.onPointerLeave,\n      restStateProps = _objectWithoutPropertiesLoose(_useItemState, _excluded2);\n\n  var _useContext = useContext(EventHandlersContext),\n      handleClose = _useContext.handleClose;\n\n  var modifiers = useMemo(function () {\n    return {\n      disabled: isDisabled,\n      hover: isHovering,\n      focusable: true\n    };\n  }, [isDisabled, isHovering]);\n  var renderChildren = useMemo(function () {\n    return safeCall(children, _extends({}, modifiers, {\n      ref: ref,\n      closeMenu: handleClose\n    }));\n  }, [children, modifiers, handleClose]);\n  var mergedProps = mergeProps(_extends({}, restStateProps, {\n    onPointerLeave: function onPointerLeave(e) {\n      return _onPointerLeave(e, true);\n    },\n    onFocus: setHover\n  }), restProps);\n  return /*#__PURE__*/jsx(\"li\", _extends({\n    role: \"menuitem\"\n  }, mergedProps, commonProps(isDisabled), {\n    ref: useCombinedRef(externalRef, itemRef),\n    className: useBEM({\n      block: menuClass,\n      element: menuItemClass,\n      modifiers: modifiers,\n      className: className\n    }),\n    children: renderChildren\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? FocusableItem.propTypes = /*#__PURE__*/_extends({}, /*#__PURE__*/stylePropTypes(), {\n  disabled: bool,\n  children: func\n}) : void 0;\n\nexport { FocusableItem };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}